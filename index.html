<!doctype html>
<html>
  <head>
    <title>Sample html client</title>
    <meta charset="utf-8" />
    <script src="http://code.jquery.com/jquery-1.5.min.js" type="text/javascript"></script>
    <script src="connection.js"></script>
    <script src="debug.js"></script>
   </head>
   <body>
     <script>
       
       //login!
       connection.request({
         action: 'logIn',
         args: {userName: 'emiax', password: 'test'},
         callback: function (data) {
            console.log(data);
         }
       });



       //subscribe to some piece of information
       var sub = connection.subscribe({
         action: 'usersOnline',
         args: {},
         callback: function (data) {
           console.log(data.foo + " users are online");
         }
       });


       // change subscription
       setTimeout(function () {
         sub.args = {
            filter: 'active'
         };
       }, 15000);


       // unsubscribe after a while
       setTimeout(function () {
           sub.unsubscribe();
       }, 50000);



     </script>
     <input id="action"></input>
     <textarea id="args"></textarea>
     <button id="send">Skicka</button>
     <div id="response"></div>       
   </body>
</html>
