<!doctype html>
<html>
  <head>
    <title>Sample html client</title>
    <meta charset="utf-8" />
    <script src="http://code.jquery.com/jquery-1.5.min.js" type="text/javascript"></script>
    <script src="connection.js"></script>
   </head>
   <body>
     <script>
       
       //subscribe to some piece of information
       var sub = connection.subscribe({
         action: 'usersOnline',
         args: {},
         callback: function (data) {
           console.log(data.foo + " users are online");
         }
       });


       // unsubscribe after a while
       setTimeout(function () {
           sub.unsubscribe();
       }, 25000);


       // get information NOW!
       connection.get({
         action: 'usersOnline',
         args: {},
         callback: function (data) {
            console.log("Initially there were " + data.foo + " users online");
         }
       });

     </script>
   </body>
</html>
